import os
from dotenv import load_dotenv

load_dotenv()

GEMINI_API_KEY = os.getenv('GEMINI_API_KEY')

if not GEMINI_API_KEY:
    raise ValueError("GEMINI_API_KEY가 설정되지 않았습니다. .env 파일을 확인해주세요.")

PROBLEM_TYPES = {
    "가형": {
        "선택형": {
            "문항수": 21,
            "배점": [2, 3, 4],
            "난이도": ["하", "중", "상"]
        },
        "단답형": {
            "문항수": 9,
            "배점": [3, 4],
            "난이도": ["중", "상"]
        }
    },
    "나형": {
        "선택형": {
            "문항수": 21,
            "배점": [2, 3, 4],
            "난이도": ["하", "중", "상"]
        },
        "단답형": {
            "문항수": 9,
            "배점": [3, 4],
            "난이도": ["중", "상"]
        }
    }
}

MATH_TOPICS = {
    "가형": [
        "미분과 적분",
        "확률과 통계",
        "기하와 벡터",
        "수열과 급수",
        "삼각함수",
        "지수함수와 로그함수",
        "복소수와 방정식",
        # 심화 주제 (고난이도)
        "함수의 극한과 연속성",
        "미분가능성과 존재정리",
        "정적분의 활용과 회전체",
        "조건부 확률",
        "공간벡터와 외적",
        "이계미분과 최댓값/최소값",
        "복합 삼각함수와 합성함수"
    ],
    "나형": [
        "수와 연산",
        "집합과 명제",
        "함수",
        "확률과 통계",
        "수열",
        "지수와 로그",
        "미분과 적분",
        # 심화 주제 (고난이도)
        "함수의 역함수와 합성함수",
        "등차수열과 등비수열의 활용",
        "순열과 조합의 응용",
        "이항분포와 정규분포",
        "도함수의 활용과 최댓값/최소값",
        "정적분과 넓이/부피"
    ]
}

# 난이도별 문제 착안 포인트
DIFFICULTY_GUIDELINES = {
    "하": {
        "description": "기본 개념 및 단순 계산",
        "steps": "1-2단계",
        "time_estimate": "1-2분"
    },
    "중": {
        "description": "개념 응용 및 복합 사고",
        "steps": "3-4단계",
        "time_estimate": "3-5분"
    },
    "상": {
        "description": "심화 사고 및 창의적 문제해결",
        "steps": "5단계 이상",
        "time_estimate": "5-10분",
        "special_features": [
            "여러 개념의 통합",
            "역사고력 필요",
            "조건 변화 분석",
            "최적화 문제",
            "존재성 증명"
        ]
    }
}